(ns dmn.sample
  (:require [clara.rules :refer :all]))

(defrecord Client [clientType onDeposit networthClass])

(defrule client-category?
  "Find client category"
  [:and 
   [Client (= :business clientType)]
   [Client (< 100000 onDeposit)]
   [Client (= :high networthClass)]]
  =>
  (println "High Value Business"))



;----------------------
; session
;----------------------


(-> (mk-session 'dmn.sample
                (insert (->Client :business 10000 :high))
                (fire-rules)))
